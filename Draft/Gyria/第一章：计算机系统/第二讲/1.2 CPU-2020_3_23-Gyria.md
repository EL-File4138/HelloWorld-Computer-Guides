前言：上一讲说到，尽管计算机技术自20世纪40年代第一部电子通用计算机诞生以来以来有了令人目眩的快速发展，但是今天计算机仍然基本上采用的是存储程序结构，即**冯·诺伊曼结构**。这个结构实现了实用化的通用计算机。**计算机系统由硬件和软件两部分组成**。硬件系统是计算机的"躯干"，是物质基础。而软件系统则是建立在这个"躯干"上的"灵魂"。

附图：计算机系统的基本结构图

## 计算机硬件
计算机的硬件系统由五大部分组成：**运算器、控制器、存储器、输入设备、输出设备**。

## 中央处理器（CPU-Central Processing Unit）
CPU简称处理器，是计算机系统的运算和控制核心，是决定计算机性能的关键部件。（相当于汽车的发动机）
**它由运算器、控制器和一些寄存器组成**。从原理上看，CPU的内部结构分**控制单元、逻辑单元、存储单元**三部分。
处理器的核心是大小为一个字的寄存器，称为**程序计数器（PC）**。
在任何时候，PC都指向主存中的某条机器语言指令（既含有该条指令的地址）

附图：2.1 CPU

## 运算器
**运算器是指计算机中进行各种算术和逻辑运算操作的部件。**其中**算术逻辑单元（ALU）**是CPU核心的部分，它进行各种算术运算和逻辑运算。
所以算术逻辑单元（ALU）可以被称作计算机的大脑。它能做两类运算：
第一类是算术运算，比如对两个数字进行加减法。
第二类是比较运算，即给定两个数,ALU对其进行比较以确定哪个更大一些。

## 控制器
**控制器是计算机的指挥系统**，控制器是指按照预定顺序改变电路的接线和电阻值来控制电动机的启动、调速、制动与反向的主令装置。
控制器由程序状态寄存器PSR，系统状态寄存器SSR， 程序计数器PC，指令均存器等组成，其作为“中央首脑”、“决策机构”。
主要任务就是发布命令，发挥着整个计算机系统操作的协调与指挥作用。

## 寄存器
**寄存器的功能是存储二进制代码**，它是由具有存储功能的触发器组合起来构成的。一个触发器可以存储1位二进制代码，故存放n位二进制代码的寄存器，需用n个触发器来构成。

附图：.2中央处理器结构

## 衡量CPU性能的主要指标
CPU的主要性能指标是**主频**和**字长**。（其他指标有指令集合、高速缓存容量，制造工艺，封装方式、工作电压等）
字长决定**运算精度**，主频决定**运算速度**（但不是绝对的)
字长：指的是CPU能够同时处理的二进制位数的个数。
主频：指的是CPU工作的时钟频率，一般来说主频越高，一个时钟周期里面完成的指令数就越多，速度也就越快。 主频的单位是MHz和GHz
(1GHz=1000MHz)

## CPU的工作原理
我们知道，冯诺依曼体系结构是现代计算机的基础。在该体系结构下，**程序和数据统一存储，指令和数据需要从同一存储空间存取，经由同一总线传输，无法重叠执行。**
根据冯诺依曼体系，CPU的工作分为以下5个阶段：**取指令阶段、指令译码阶段、执行指令阶段、访存取数和结果写回。**

附图：cpu的工作原理

1. 取指令（IF，instruction fetch）即将一条指令从主存储器中取到指令寄存器的过程。
程序计数器中的数值，用来指示当前指令在主存中的位置。当一条指令被取出后，PC中的数值将根据指令字长度自动递增。

2. 指令译码阶段（ID，instruction decode）取出指令后，指令译码器按照预定的指令格式，对取回的指令进行拆分和解释，识别区分出不同的指令类别以及各种获取操作数的方法。

3. 执行指令阶段（EX，execute），具体实现指令的功能。CPU的不同部分被连接起来，以执行所需的操作。

4. 访存取数阶段（MEM，memory），根据指令需要访问主存、读取操作数，CPU得到操作数在主存中的地址，并从主存中读取该操作数用于运算。部分指令不需要访问主存，则可以跳过该阶段。

5. 结果写回阶段（WB，write back），作为最后一个阶段，结果写回阶段把执行指令阶段的运行结果数据“写回”到某种存储形式。结果数据一般会被写到CPU的内部寄存器中，以便被后续的指令快速地存取；许多指令还会改变程序状态字寄存器中标志位的状态，这些标志位标识着不同的操作结果，可被用来影响程序的动作。

在指令执行完毕、结果数据写回之后，若无意外事件（如结果溢出等）发生，计算机就从程序计数器中取得下一条指令地址，开始新一轮的循环，下一个指令周期将顺序取出下一条指令。
（原理部分内容些许超纲，根据自身能力理解，不作过多要求）

## CPU的发展历史
20世纪80年代以来ALU和控制单元（二者合称中央处理器）逐渐被集成到一块集成电路上，称作微处理器。
CPU出现于大规模集成电路时代，处理器架构设计的迭代更新以及集成电路工艺的不断提升促使其不断发展完善。从最初专用于数学计算到广泛应用于通用计算，从4位到8位、16位、32位处理器，最后到64位处理器，从各厂商互不兼容到不同指令集架构规范的出现，CPU 自诞生以来一直在飞速发展。

CPU发展已经有40多年的历史了。我们通常将其分成六个阶段。
第一阶段(1971年-1973年)。这是4位和8位低档微处理器时代，代表产品是Intel 4004处理器。
第二阶段(1974年-1977年)。这是8位中高档微处理器时代，代表产品是Intel 8080。此时指令系统已经比较完善了。 
第三阶段(1978年-1984年)。这是16位微处理器的时代，代表产品是Intel 8086。相对而言已经比较成熟了。 
第四阶段(1985年-1992年)。这是32位微处理器时代，代表产品是Intel 80386。已经可以胜任多任务、多用户的作业。 
第五阶段(1993年-2005年)。这是奔腾系列微处理器的时代。 
第六阶段(2005年至今)。是酷睿系列微处理器的时代，这是一款领先节能的新型微架构，设计的出发点是提供卓然出众的性能和能效。 

为了满足操作系统的上层工作需求，现代处理器进一步引入了诸如并行化、多核化、虚拟化以及远程管理系统等功能，不断推动着上层信息系统向前发展


